!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("final-form"),require("react")):"function"==typeof define&&define.amd?define(["exports","final-form","react"],t):t((e=e||self)["react-final-form-hooks"]={},e.FinalForm,e.React)}(this,function(e,p,d){"use strict";function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function v(e,t){if(null==e)return{};var n,r,u={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],0<=t.indexOf(n)||(u[n]=e[n]);return u}function s(e,t){void 0===t&&(t=o);var n=d.useState(function(){return e.getState()}),r=n[0],u=n[1],i=function(t){return p.formSubscriptionItems.map(function(e){return Boolean(t[e])})}(t);return d.useEffect(function(){return e.subscribe(u,t)},[e].concat(i)),r}function l(e,t){if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var u=Object.prototype.hasOwnProperty.bind(t),i=0;i<n.length;i++){var o=n[i];if(!u(o)||e[o]!==t[o])return!1}return!0}var b=p.fieldSubscriptionItems.reduce(function(e,t){return e[t]=!0,e},{}),o=p.formSubscriptionItems.reduce(function(e,t){return e[t]=!0,e},{});e.useField=function(e,t,n,r){void 0===r&&(r=b);var u=d.useRef(!1),i=d.useRef(void 0),o=d.useState({}),c=o[0],f=o[1];i.current=n;var a=function(t){return p.fieldSubscriptionItems.map(function(e){return Boolean(t[e])})}(r);d.useEffect(function(){return t.registerField(e,function(e){u.current&&(u.current=!1,setTimeout(function(){return e.focus()})),f(e)},r,n?{getValidator:function(){return i.current}}:void 0)},[e,t].concat(a));c.blur,c.change,c.focus;var s=c.value,l=v(c,["blur","change","focus","value"]);return delete l.name,{input:{name:e,value:void 0===s?"":s,onBlur:function(){return c.blur()},onChange:function(e){return c.change(function(e){return e&&e.target?"checkbox"===e.target.type?e.target.checked:e.target.value:e}(e))},onFocus:function(){c.focus?c.focus():u.current=!0}},meta:l}},e.useForm=function(e){var t=e.subscription,n=e.initialValuesEqual,r=void 0===n?l:n,u=v(e,["subscription","initialValuesEqual"]),i=function(e){var t=d.useRef();return t.current||(t.current=e()),t.current}(function(){return p.createForm(u)}),o=d.useRef(u),c=s(i,t),f=d.useCallback(function(e){return e&&("function"==typeof e.preventDefault&&e.preventDefault(),"function"==typeof e.stopPropagation&&e.stopPropagation()),i.submit()},[i]);return d.useEffect(function(){u!==o.current&&(u.initialValues&&!r(u.initialValues,o.current.initialValues)&&i.initialize(u.initialValues),p.configOptions.forEach(function(e){"initialValues"!==e&&u[e]!==o.current[e]&&i.setConfig(e,u[e])}),o.current=u)}),a({},c,{form:i,handleSubmit:f})},e.useFormState=s,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=react-final-form-hooks.umd.min.js.map
